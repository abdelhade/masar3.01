# أنواع السندات في النظام

## القيم الصحيحة من ProTypesSeeder

### السندات الأساسية
| ID  | pname            | ptext                  | الاستخدام في VoucherController |
|-----|------------------|------------------------|-------------------------------|
| 1   | receipt          | سند قبض                | TYPE_RECEIPT                  |
| 2   | payment          | سند دفع                | TYPE_PAYMENT                  |
| 101 | expense_voucher  | سند دفع مصروفات        | TYPE_EXP_PAYMENT              |

### السندات المتعددة
| ID  | pname            | ptext                  | الاستخدام                     |
|-----|------------------|------------------------|-------------------------------|
| 32  | multi_receipt    | سند قبض متعدد          | TYPE_MULTI_RECEIPT            |
| 33  | multi_payment    | سند دفع متعدد          | TYPE_MULTI_PAYMENT            |

## ملاحظات مهمة

### 1. التصحيح الذي تم
- **قبل التصحيح**: كان `TYPE_PAYMENT = 101` (خطأ)
- **بعد التصحيح**: 
  - `TYPE_RECEIPT = 1` (سند قبض)
  - `TYPE_PAYMENT = 2` (سند دفع)
  - `TYPE_EXP_PAYMENT = 101` (سند دفع مصروفات)

### 2. الفلترة في index()
عند عرض "الكل" (`type=all`):
```php
$query->whereIn('pro_type', [1, 2]); // سندات القبض والدفع فقط
```

يتم استبعاد:
- سندات المصروفات (101)
- السندات المتعددة (32, 33)
- باقي أنواع العمليات

### 3. الصلاحيات المطلوبة
- `view recipt` - لعرض سندات القبض
- `view payment` - لعرض سندات الدفع
- `view exp-payment` - لعرض سندات المصروفات
- `create recipt` - لإنشاء سندات القبض
- `create payment` - لإنشاء سندات الدفع
- `create exp-payment` - لإنشاء سندات المصروفات

### 4. Routes المتاحة
```
GET  /vouchers              - عرض جميع السندات (قبض ودفع فقط)
GET  /vouchers?type=receipt - عرض سندات القبض فقط
GET  /vouchers?type=payment - عرض سندات الدفع فقط
GET  /vouchers?type=exp-payment - عرض سندات المصروفات فقط
```

## أنواع العمليات الأخرى في النظام

### التحويلات (3-6)
- 3: تحويل نقدية من صندوق لصندوق
- 4: تحويل نقدية من صندوق لبنك
- 5: تحويل نقدية من بنك لصندوق
- 6: تحويل نقدية من بنك لبنك

### القيود (7-8)
- 7: قيد يومية
- 8: قيد متعدد

### الفواتير (10-13)
- 10: فاتورة مبيعات
- 11: فاتورة مشتريات
- 12: مردود مبيعات
- 13: مردود مشتريات

### الأوراق المالية (65-72)
- 65: إضافة ورقة قبض
- 66: إضافة ورقة دفع
- 67: تحصيل ورقة قبض
- 68: تظهير ورقة
- 69: ورقة مرتدة
- 70: إلغاء ورقة
- 71: قيد عكسي لورقة
- 72: صرف ورقة دفع

### تبادل العملات (80-81)
- 80: شراء عملة
- 81: بيع عملة

## الخلاصة
تم تصحيح جميع القيم في `VoucherController` لتتوافق مع `ProTypesSeeder`، والآن النظام يعمل بشكل صحيح مع القيم الفعلية في قاعدة البيانات.
